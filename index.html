<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alexgram</title>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8VKHEEYX6"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-D8VKHEEYX6');
    </script>

    <style>
        body {text-align: center; background-color: rgb(240,158,5); color: black;}

    </style>
</head>
<body>
    <header>
        <img src="Alexgram_Banner.png" alt="banner">
    </header>
    <iframe src="https://thunkable.site/w/eOvmiaPkEaYwbZ8vuJVv-" title="Sign In App" height=750 width=500></iframe>

    <div id="findDetails">
        <h1>User info</h1>
        <h2 id="findNameOne" type="text"></h2>
        <h2 id="findNumOne" type="number"></h2>
        <h2 id="findSpiritOne" type="text"></h2>  <br><br>
        <h2> <img id="userOneImg" alt="userOne profile pic"> </h2>
        <h3 id="findNameTwo" type="text"></h3>
        <h3 id="findNumTwo" type="number"></h3>
        <h3 id="findSpiritTwo" type="text"></h3>  <br><br>
        <h3> <img id="userTwoImg" alt="userTwo profile pic"> </h3>
    </div>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-analytics.js";
        import {
            getAuth,
            createUserWithEmailAndPassword,
            signInWithEmailAndPassword,
            onAuthStateChanged,
            signOut
        } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-auth.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyD-BZJg0eBUKsvCgj6FvQ8U4yImGpUvOak",
            authDomain: "profileapp-eca7d.firebaseapp.com",
            databaseURL: "https://profileapp-eca7d-default-rtdb.firebaseio.com",
            projectId: "profileapp-eca7d",
            storageBucket: "profileapp-eca7d.appspot.com",
            messagingSenderId: "401711441810",
            appId: "1:401711441810:web:deb06a3c47633573d9c34b",
            measurementId: "G-D8VKHEEYX6"
        };

        // Initialize Firebase
        
        import { getDatabase, ref, get, set, child, update, remove }
        from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js"
        const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        const analytics = getAnalytics(app);
        const auth = getAuth(app);

        function userData(){
            const dbref = ref(db);
            const idOne = "qWmF5WGkpkVNfyTPDIIXA1nNUo22"
            const idTwo = "aa80fPDreWOiqpVoUuSKq9CwgYn2"
            const findDetailsID = document.getElementById("findDetails");
            const findNameOne = document.getElementById("findNameOne");
            const findNumOne = document.getElementById("findNumOne");
            const findSpiritOne = document.getElementById("findSpiritOne");
            let userOneImg = document.getElementById("userOneImg");
            const findNameTwo = document.getElementById("findNameTwo");
            const findNumTwo = document.getElementById("findNumTwo");
            const findSpiritTwo = document.getElementById("findSpiritTwo");
            let userTwoImg = document.getElementById("userTwoImg");
            
            get(child(dbref, idOne))
            .then((snapshot)=>{
                userOneImg.src = snapshot.val().image;
                findNameOne.innerHTML = "Name: " + snapshot.val().name;
                findNumOne.innerHTML = "Favorite Number: " + snapshot.val().number;
                findSpiritOne.innerHTML = "Favorite Spirit Animal: " + snapshot.val().spirit;
            })
            
            get(child(dbref, idTwo))
            .then((snapshot)=>{
                userTwoImg.src = snapshot.val().image;
                findNameTwo.innerHTML = "Name: " + snapshot.val().name;
                findNumTwo.innerHTML = "Favorite Number: " + snapshot.val().number;
                findSpiritTwo.innerHTML = "Favorite Spirit Animal: " + snapshot.val().spirit;
            })

        }
        userData();


    </script>

</body>
</html>